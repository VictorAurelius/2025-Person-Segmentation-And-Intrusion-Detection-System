# Region Growing (Mở Rộng Vùng) - Phân Vùng Theo Vùng

## 1. Khái Niệm

**Region Growing** (Mở rộng vùng) là thuật toán phân vùng (segmentation) mở rộng vùng từ các điểm khởi tạo (seed points) dựa trên tiêu chí tương đồng (similarity).

---

## 2. Thuật Toán Cơ Bản

### Các Bước

1. Chọn điểm khởi tạo (seed point)
2. Kiểm tra các pixel lân cận
3. Nếu tương đồng (similar) → thêm vào vùng (region)
4. Lặp lại cho các pixel mới thêm
5. Dừng khi không còn pixel tương đồng

### Triển Khai

```python
def region_growing(image, seed, threshold):
    visited = np.zeros(image.shape, dtype=bool)
    region = []
    queue = [seed]
    seed_intensity = image[seed[1], seed[0]]

    while queue:
        x, y = queue.pop(0)
        if visited[y, x]:
            continue

        visited[y, x] = True
        pixel_intensity = image[y, x]

        if abs(pixel_intensity - seed_intensity) <= threshold:
            region.append((x, y))

            # Thêm các pixel lân cận vào hàng đợi
            for dx, dy in [(-1,0), (1,0), (0,-1), (0,1)]:
                nx, ny = x + dx, y + dy
                if 0 <= nx < image.shape[1] and 0 <= ny < image.shape[0]:
                    if not visited[ny, nx]:
                        queue.append((nx, ny))

    return region
```

---

## 3. Tiêu Chí Tương Đồng (Similarity Criteria)

### A. Intensity (Cường độ sáng)
```python
similar = abs(pixel - seed_intensity) <= threshold
```

### B. Color (Màu sắc)
```python
similar = np.linalg.norm(pixel_color - seed_color) <= threshold
```

### C. Gradient (Độ dốc)
```python
combined = (1-w) * intensity_diff + w * gradient_diff
similar = combined <= threshold
```

---

## 4. Connectivity (Kết Nối)

- **4-connectivity** (Kết nối 4 hướng): Trên, dưới, trái, phải
- **8-connectivity** (Kết nối 8 hướng): + 4 góc chéo

---

**Ngày tạo**: Tháng 1/2025
