# Region Growing - Phân Vùng Theo Vùng

## 1. Khái Niệm

**Region Growing** là thuật toán segmentation mở rộng vùng từ seed points dựa trên tiêu chí similarity.

---

## 2. Thuật Toán Cơ Bản

### Các Bước

1. Chọn seed point
2. Kiểm tra các pixel lân cận
3. Nếu similar → thêm vào region
4. Lặp lại cho pixels mới thêm
5. Dừng khi không còn pixel similar

### Implementation

```python
def region_growing(image, seed, threshold):
    visited = np.zeros(image.shape, dtype=bool)
    region = []
    queue = [seed]
    seed_intensity = image[seed[1], seed[0]]

    while queue:
        x, y = queue.pop(0)
        if visited[y, x]:
            continue

        visited[y, x] = True
        pixel_intensity = image[y, x]

        if abs(pixel_intensity - seed_intensity) <= threshold:
            region.append((x, y))

            # Thêm neighbors vào queue
            for dx, dy in [(-1,0), (1,0), (0,-1), (0,1)]:
                nx, ny = x + dx, y + dy
                if 0 <= nx < image.shape[1] and 0 <= ny < image.shape[0]:
                    if not visited[ny, nx]:
                        queue.append((nx, ny))

    return region
```

---

## 3. Similarity Criteria

### A. Intensity
```python
similar = abs(pixel - seed_intensity) <= threshold
```

### B. Color
```python
similar = np.linalg.norm(pixel_color - seed_color) <= threshold
```

### C. Gradient
```python
combined = (1-w) * intensity_diff + w * gradient_diff
similar = combined <= threshold
```

---

## 4. Connectivity

- **4-connectivity**: Trên, dưới, trái, phải
- **8-connectivity**: + 4 góc

---

**Ngày tạo**: Tháng 1/2025
