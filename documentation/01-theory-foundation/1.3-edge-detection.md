# Edge Detection (Phát Hiện Biên)

## 1. Khái Niệm

**Edge** (Biên) là điểm có sự thay đổi đột ngột về intensity (cường độ sáng) trong ảnh. **Edge Detection** (Phát hiện biên) là kỹ thuật tìm ra các ranh giới (boundaries) của vật thể (objects).

---

## 2. Gradient-based Operators (Toán Tử Dựa Trên Gradient)

### A. Sobel Operator (Toán tử Sobel)

```python
# Sobel kernels (ma trận nhân chập Sobel)
Gx = [[-1, 0, 1],
      [-2, 0, 2],
      [-1, 0, 1]]

Gy = [[-1, -2, -1],
      [ 0,  0,  0],
      [ 1,  2,  1]]

# Triển khai
grad_x = cv2.Sobel(gray, cv2.CV_64F, 1, 0, ksize=3)
grad_y = cv2.Sobel(gray, cv2.CV_64F, 0, 1, ksize=3)
magnitude = np.sqrt(grad_x**2 + grad_y**2)
```

### B. Prewitt Operator (Toán tử Prewitt)

```python
# Tương tự Sobel nhưng kernel đơn giản hơn
Gx = [[-1, 0, 1],
      [-1, 0, 1],
      [-1, 0, 1]]
```

### C. Scharr Operator (Toán tử Scharr)

```python
# Chính xác hơn Sobel
grad_x = cv2.Scharr(gray, cv2.CV_64F, 1, 0)
grad_y = cv2.Scharr(gray, cv2.CV_64F, 0, 1)
```

---

## 3. Canny Edge Detection (Phát Hiện Biên Canny)

### 5 Bước Của Thuật Toán Canny

1. **Gaussian blur** (Làm mờ Gaussian) - Giảm nhiễu
2. **Gradient calculation** (Tính gradient) - Tính độ dốc cường độ sáng
3. **Non-maximum suppression** (Triệt phi cực đại) - Làm mỏng các cạnh
4. **Double thresholding** (Ngưỡng kép) - Phân loại các cạnh
5. **Edge tracking by hysteresis** (Theo dõi cạnh bằng trễ) - Nối các cạnh

### Triển Khai

```python
edges = cv2.Canny(gray, low_threshold, high_threshold)
```

**Tham số:**
- `low_threshold`: Ngưỡng dưới
- `high_threshold`: Ngưỡng trên
- Tỷ lệ khuyến nghị: 1:2 hoặc 1:3

---

## 4. Điều Chỉnh Tham Số

```python
# Nhiều cạnh
edges = cv2.Canny(gray, 30, 100)

# Cân bằng
edges = cv2.Canny(gray, 50, 150)

# Ít cạnh (chỉ cạnh mạnh)
edges = cv2.Canny(gray, 100, 200)
```

---

**Ngày tạo**: Tháng 1/2025
